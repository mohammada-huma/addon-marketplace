<ng-container *transloco="let t; prefix: 'marketplace'">
    @if (resource.isLoading()) {
    <mat-spinner diameter="80" />
    } @else if (resource.error()) {
    <huma-empty hcIllustration="CareTeam" [hcTitle]="t('http.error.title')"
        [hcDescription]="t('http.error.description')" />
    } @else if (resource.hasValue()) {
    <div class="marketplace-items">
        @for (item of items(); track item.id) {
        <mat-card appearance="outlined" class="marketplace-item-card" (click)="onViewItem(item)">
            <mat-card-header>
                <div mat-card-avatar class="marketplace-item-avatar"></div>
                <mat-card-subtitle>
                    <div class="marketplace-item-subtitle">
                        <mat-icon>extension</mat-icon>
                        {{ item.name }}
                        @if (item.installed) {
                        <span class="marketplace-item-status-installed">{{ t('items.status.installed') }}</span>
                        }
                    </div>
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content class="marketplace-item-content">
                <p>{{ item.shortDescription }}</p>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button="filled">{{ t('items.button.view') }}</button>
            </mat-card-actions>
        </mat-card>
        }
    </div>
    @if (items().length === 0) {
    <div class="no-data-container">
        <huma-empty hcIllustration="CareTeam" [hcTitle]="t('http.empty.title')"
            [hcDescription]="t('http.empty.description')" />
    </div>
    }
    } @else {
    <div class="no-data-container">
        <huma-empty hcIllustration="CareTeam" [hcTitle]="t('http.empty.title')"
            [hcDescription]="t('http.empty.description')" />
    </div>
    }
</ng-container>